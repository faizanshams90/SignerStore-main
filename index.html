<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGNER STORE</title>
    <link rel="icon" type="image/png" href="logo.png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Manrope:wght@200;300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. DESIGN SYSTEM --- */
        :root {
            --bg-color: #080808;
            --surface-color: #141414;
            --text-primary: #f8f8f8;
            --text-secondary: #a0a0a0;
            --accent-gold: #c5a059;
            --border-color: rgba(255, 255, 255, 0.08);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            font-family: 'Manrope', sans-serif;
            overflow-x: hidden;
            line-height: 1.6;
        }

        
        h1, h2, h3, h4, .font-serif {
            font-family: 'Playfair Display', serif;
        }

        .font-cinzel {
            font-family: 'Cinzel', serif;
        }

        .letter-spacing-2 {
            letter-spacing: 2px;
        }

        .letter-spacing-3 {
            letter-spacing: 3px;
        }

        .text-gold {
            color: var(--accent-gold);
        }

        .text-muted {
            color: var(--text-secondary) !important;
        }

        
        .btn-custom {
            background: transparent;
            color: #fff;
            border: 1px solid var(--border-color);
            padding: 14px 35px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.75rem;
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            position: relative;
            overflow: hidden;
        }

        .btn-custom::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background: var(--accent-gold);
            transition: all 0.4s ease;
            z-index: -1;
        }

        .btn-custom:hover {
            border-color: var(--accent-gold);
            color: #000;
        }

        .btn-custom:hover::before {
            width: 100%;
        }

        /* --- 4. PRODUCT CARD & SIZES --- */
        .card-container {
            perspective: 1500px;
            padding: 15px;
        }

        .product-card {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            transform-style: preserve-3d;
            transition: transform 0.2s ease-out;
            position: relative;
        }

        .img-box {
            height: 520px;
            overflow: hidden;
            position: relative;
        }

        .img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .product-card:hover img {
            transform: scale(1.08);
        }

        .card-actions {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease;
            z-index: 5;
            translate: 0 0 20px;
        }

        .product-card:hover .card-actions {
            opacity: 1;
            transform: translateY(0);
        }

        
        .size-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 5px;
        }

        .size-btn {
            width: 35px;
            height: 35px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 0.75rem;
            cursor: pointer;
            transition: 0.3s;
            background: rgba(0, 0, 0, 0.5);
        }

        .size-btn:hover {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
        }

        .size-btn.active {
            background: var(--accent-gold);
            border-color: var(--accent-gold);
            color: #000;
            font-weight: bold;
        }

        .btn-action-group {
            display: flex;
            gap: 10px;
        }

        .btn-action {
            width: 40px;
            height: 40px;
            background: #fff;
            color: #000;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .btn-action:hover {
            background: var(--accent-gold);
            color: #fff;
        }

        .card-info {
            padding: 25px;
            text-align: center;
            background: var(--surface-color);
            transform: translateZ(30px);
            border-top: 1px solid var(--border-color);
        }

        /* --- 5. "PAGES" (FULL SCREEN MODALS) --- */
        .page-modal .modal-content {
            background-color: var(--bg-color);
            min-height: 100vh;
            border: none;
        }

        .page-modal .modal-header {
            border-bottom: 1px solid var(--border-color);
            padding: 2rem;
        }

        .page-modal .modal-body {
            padding: 3rem 1rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .page-title {
            border-bottom: 1px solid var(--accent-gold);
            padding-bottom: 20px;
            margin-bottom: 40px;
            display: inline-block;
        }

        /* Size Guide Table */
        .table-dark-custom {
            --bs-table-bg: transparent;
            --bs-table-color: #aaa;
            --bs-table-border-color: #333;
        }

        .table-dark-custom th {
            color: var(--accent-gold);
            font-family: 'Playfair Display';
            font-weight: 400;
            letter-spacing: 1px;
        }

        /* --- 6. UTILITIES --- */
        .form-control-dark {
            background: transparent;
            border: none;
            border-bottom: 1px solid #333;
            color: #fff;
            padding: 15px 0;
            border-radius: 0;
            transition: border-color 0.3s;
        }
        
        select.form-control-dark {
            background: #0a0a0a;
            appearance: none;
            padding-right: 20px;
        }

        select.form-control-dark:focus {
             background: #0a0a0a; 
             color: #fff;
        }

        .form-control-dark:focus {
            background: transparent;
            box-shadow: none;
            border-color: var(--accent-gold);
            color: #fff;
        }

        #preloader {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s;
        }

        .loader-text span {
            color: var(--accent-gold);
            font-size: 2rem;
            font-family: 'Cinzel';
            letter-spacing: 8px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        .toast-custom {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #1a1a1a;
            color: #fff;
            padding: 15px 25px;
            border: 1px solid var(--border-color);
            border-left: 3px solid var(--accent-gold);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 10000;
        }

        .toast-custom.show {
            transform: translateY(0);
            opacity: 1;
        }
        
       
        .info-box-custom {
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--border-color);
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        
        .whatsapp-note {
            background: rgba(37, 211, 102, 0.1); 
            border: 1px solid rgba(37, 211, 102, 0.3);
            color: #e0e0e0;
            padding: 10px;
            font-size: 0.8rem;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
    </style>
</head>

<body>

    <div id="preloader">
        <div class="loader-text"><span>SIGNER</span></div>
    </div>

    <div id="toast" class="toast-custom">
        <div class="d-flex align-items-center gap-3">
            <i class="fas fa-check text-gold"></i>
            <div>
                <h6 class="mb-0 fw-light font-serif" style="font-size: 0.9rem;">Item Added to Bag</h6>
                <small class="text-muted" id="toast-details" style="font-size: 0.75rem;">Product - Size M</small>
            </div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg fixed-top" style="background-color: rgba(5, 5, 5, 0.95); border-bottom: 1px solid rgba(255,255,255,0.05);">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="logo.png" alt="SIGNER" style="height: 30px; filter: invert(1) opacity(0.9);"
                    onerror="this.style.display='none'; document.write('<span class=\'font-cinzel text-white h4 mb-0 letter-spacing-3\'>SIGNER</span>')">
            </a>
            <button class="navbar-toggler text-white border-0" type="button" data-bs-toggle="collapse"
                data-bs-target="#navContent"><i class="fas fa-bars"></i></button>
            <div class="collapse navbar-collapse justify-content-end" id="navContent">
                <ul class="navbar-nav align-items-center">
                    <li class="nav-item"><a class="nav-link text-white" href="#home">Maison</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#collection">Collection</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#atelier">Atelier</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#concierge">Concierge</a></li>
                    <li class="nav-item ms-lg-4">
                        <button class="btn btn-custom py-2 px-3 position-relative border-0" data-bs-toggle="modal"
                            data-bs-target="#cartModal" style="background: rgba(255,255,255,0.05);">
                            <span class="small" style="letter-spacing: 1px;">BAG</span>
                            <span id="cart-badge"
                                class="position-absolute top-0 start-100 translate-middle badge rounded-circle bg-white text-dark"
                                style="opacity:0; transition:opacity 0.3s; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700;">0</span>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="home">
        <div class="hero"
            style="height: 100vh; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center;">
            <div
                style="position: absolute; inset: 0; background: url('T-shirts Displayed on Rack and Table.png') center/cover no-repeat; filter: brightness(0.45); transform: scale(1.1);">
            </div>
            <div style="z-index: 2; text-align: center; opacity: 0.9;">
                <p class="mb-3 text-gold">2025 Atelier</p>
                <h1 style="font-size: 5rem; line-height: 1;">SILENCE<br><span class="text-gold"
                        style="font-style: italic;">SPEAKS</span></h1>
                <a href="#collection" class="btn btn-custom mt-4">Explore Collection</a>
            </div>
        </div>
    </section>

    <section id="collection" class="py-5">
        <div class="container py-5">
            <div class="d-flex justify-content-between align-items-end mb-5">
                <div><span class="text-gold letter-spacing-2 small text-uppercase">New Arrivals</span>
                    <h2 class="display-5 mt-2">The Signature Edit</h2>
                </div>
            </div>

            <div class="row g-5">
                <div class="col-md-4">
                    <div class="card-container" id="product-1">
                        <div class="product-card">
                            <div class="img-box">
                                <img src="image1.png" alt="Trench Coat">
                                <div class="card-actions">
                                    <div class="size-selector">
                                        <div class="size-btn" onclick="selectSize(1, 'S')">S</div>
                                        <div class="size-btn active" onclick="selectSize(1, 'M')">M</div>
                                        <div class="size-btn" onclick="selectSize(1, 'L')">L</div>
                                    </div>
                                    <div class="btn-action-group">
                                        <button class="btn-action" onclick="addToCart(1, 'White Tee Shirt', 1199)"
                                            title="Add to Bag"><i class="fas fa-plus"></i></button>
                                        <button class="btn-action" onclick="quickBuy(1, 'White Tee Shirt', 1199)"
                                            title="Buy Now"><i class="fas fa-arrow-right"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-info">
                                <h5 class="font-serif mb-1">White Tee Shirt</h5>
                                <p class="text-muted small mb-3">Classic</p>
                                <span class="text-gold">₨. 1199</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card-container" id="product-2">
                        <div class="product-card">
                            <div class="img-box">
                                <img src="image2.png" alt="Velvet Dress">
                                <div class="card-actions">
                                    <div class="size-selector">
                                        <div class="size-btn" onclick="selectSize(2, 'S')">S</div>
                                        <div class="size-btn active" onclick="selectSize(2, 'M')">M</div>
                                        <div class="size-btn" onclick="selectSize(2, 'L')">L</div>
                                    </div>
                                    <div class="btn-action-group">
                                        <button class="btn-action" onclick="addToCart(2, 'Black Tee Shirt', 1199)"
                                            title="Add to Bag"><i class="fas fa-plus"></i></button>
                                        <button class="btn-action" onclick="quickBuy(2, 'Black Tee Shirt', 1199)"
                                            title="Buy Now"><i class="fas fa-arrow-right"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-info">
                                <h5 class="font-serif mb-1">Black Tee Shirt</h5>
                                <p class="text-muted small mb-3">Premium</p>
                                <span class="text-gold">₨. 1199</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card-container" id="product-3">
                        <div class="product-card">
                            <div class="img-box">
                                <img src="image3.png" alt="Silk Blazer">
                                <div class="card-actions">
                                    <div class="size-selector">
                                        <div class="size-btn" onclick="selectSize(3, 'S')">S</div>
                                        <div class="size-btn active" onclick="selectSize(3, 'M')">M</div>
                                        <div class="size-btn" onclick="selectSize(3, 'L')">L</div>
                                    </div>
                                    <div class="btn-action-group">
                                        <button class="btn-action" onclick="addToCart(3, 'Blue Tee Shirt', 1199)"
                                            title="Add to Bag"><i class="fas fa-plus"></i></button>
                                        <button class="btn-action" onclick="quickBuy(3, 'Blue Tee Shirt', 1199)"
                                            title="Buy Now"><i class="fas fa-arrow-right"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-info">
                                <h5 class="font-serif mb-1">Blue Tee Shirt</h5>
                                <p class="text-muted small mb-3">Limited Edition</p>
                                <span class="text-gold">₨. 1199</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="atelier" class="py-5">
        <div class="container py-5">
            <div class="row align-items-center">
                <div class="col-md-6 mb-5 mb-md-0">
                    <img src="IMG-20250626-WA0005.jpg" class="img-fluid border border-secondary p-3"
                        style="filter: grayscale(100%);" alt="Atelier">
                </div>
                <div class="col-md-5 offset-md-1">
                    <span class="text-gold small uppercase letter-spacing-3">Since 2025</span>
                    <h2 class="display-5 font-serif my-4">The Art of Detail</h2>
                    <p class="text-secondary mb-5 fw-light">Each garment is constructed by hand in our Karachi atelier,
                        ensuring every piece is not just worn, but experienced.</p>
                    <a href="#" class="btn btn-custom" data-bs-toggle="modal" data-bs-target="#modalAppointment">Book
                        Appointment</a>
                </div>
            </div>
        </div>
    </section>

    <section id="concierge" class="py-5">
        <div class="container py-5 text-center">
            <h2 class="font-serif mb-4">Concierge</h2>
            <form class="mx-auto" style="max-width: 600px;">
                <div class="row g-3">
                    <div class="col-6"><input type="text" class="form-control-dark w-100" placeholder="FULL NAME"></div>
                    <div class="col-6"><input type="email" class="form-control-dark w-100" placeholder="EMAIL ADDRESS">
                    </div>
                    <div class="col-12"><textarea class="form-control-dark w-100" rows="3"
                            placeholder="MESSAGE"></textarea></div>
                    <div class="col-12 mt-4"><button type="submit" class="btn btn-custom px-5">Send</button></div>
                </div>
            </form>
        </div>
    </section>

    <footer class="pt-5 pb-4 border-top border-secondary" style="background: #050505; border-color: #111 !important;">
        <div class="container">
            <div class="row gy-5">
                <div class="col-md-3">
                    <h5 class="font-cinzel text-white letter-spacing-2 mb-4">SIGNER</h5>
                    <p class="text-muted small">Redefining luxury fashion in Pakistan.</p>
                </div>
                <div class="col-md-3">
                    <h6 class="text-white text-uppercase small letter-spacing-2 mb-4">Customer Care</h6>
                    <ul class="list-unstyled text-muted small d-flex flex-column gap-2">
                        <li><a href="#" data-bs-toggle="modal" data-bs-target="#modalShipping"
                                class="text-decoration-none text-muted">Shipping & Returns</a></li>
                        <li><a href="#" data-bs-toggle="modal" data-bs-target="#modalSizeGuide"
                                class="text-decoration-none text-muted">Size Guide</a></li>
                        <li><a href="#" data-bs-toggle="modal" data-bs-target="#modalAppointment"
                                class="text-decoration-none text-muted">Book Appointment</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h6 class="text-white text-uppercase small letter-spacing-2 mb-4">Legal</h6>
                    <ul class="list-unstyled text-muted small d-flex flex-column gap-2">
                        <li><a href="#" data-bs-toggle="modal" data-bs-target="#modalTerms"
                                class="text-decoration-none text-muted">Terms & Conditions</a></li>
                        <li><a href="#" data-bs-toggle="modal" data-bs-target="#modalPrivacy"
                                class="text-decoration-none text-muted">Privacy Policy</a></li>
                        <li><a href="#" data-bs-toggle="modal" data-bs-target="#modalCookies"
                                class="text-decoration-none text-muted">Cookie Policy</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h6 class="text-white text-uppercase small letter-spacing-2 mb-4">Connect</h6>
                    <div class="d-flex gap-3 mb-3">
                        <a href="#" class="text-white"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-whatsapp"></i></a>
                    </div>
                    <small class="text-muted">Karachi, Pakistan</small>
                </div>
            </div>
            <div class="row mt-5 pt-4 border-top border-secondary" style="border-color: #111 !important;">
                <div class="col-12 text-center text-muted small">&copy; 2025 Signer Store. All Rights Reserved.</div>
            </div>
        </div>
    </footer>

    <div class="modal fade page-modal" id="modalSizeGuide" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="font-serif text-uppercase letter-spacing-2">Size Guide</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h2 class="page-title font-serif">Find Your Fit</h2>
                    <table class="table table-dark-custom mb-5">
                         <thead><tr><th>Size</th><th>Bust</th><th>Waist</th><th>Hips</th></tr></thead>
                         <tbody>
                            <tr><td>Small (S)</td><td>32-34</td><td>25-27</td><td>35-37</td></tr>
                            <tr><td>Medium (M)</td><td>34-36</td><td>27-29</td><td>37-39</td></tr>
                            <tr><td>Large (L)</td><td>36-38</td><td>29-31</td><td>39-41</td></tr>
                         </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="cartModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background:#0a0a0a; border:1px solid #333; color:#fff;">
                <div class="modal-header border-bottom border-secondary">
                    <h6 class="modal-title font-serif text-uppercase letter-spacing-2">Shopping Bag</h6>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="cart-items-container" style="min-height: 150px;">
                    <p class="text-center text-muted py-5 small text-uppercase letter-spacing-1">Your bag is empty</p>
                </div>
                <div class="modal-footer d-block border-top border-secondary">
                    <div class="d-flex justify-content-between mb-3">
                        <span class="small text-uppercase">Subtotal</span>
                        <span class="text-gold">₨. <span id="cart-total">0</span></span>
                    </div>
                    <button class="btn btn-custom w-100" onclick="proceedToCheckout()">Checkout</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="checkoutModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background:#0a0a0a; border:1px solid #333; color:#fff;">
                <div class="modal-header">
                    <h6 class="modal-title font-serif text-uppercase letter-spacing-2">Secure Checkout</h6>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="bg-dark p-3 mb-4 border border-secondary">
                        <div class="d-flex justify-content-between mb-1">
                            <span class="text-muted small text-uppercase">Subtotal</span>
                            <span>₨. <span id="checkout-subtotal">0</span></span>
                        </div>
                        <div class="d-flex justify-content-between mb-1">
                            <span class="text-muted small text-uppercase">Delivery (DC)</span>
                            <span>₨. 200</span>
                        </div>
                        <div class="d-flex justify-content-between border-top border-secondary pt-2 mt-2">
                            <strong class="text-white">Total Due</strong>
                            <strong class="text-gold font-serif">₨. <span id="checkout-amount">0</span></strong>
                        </div>
                    </div>

                    <form id="checkout-form" onsubmit="submitOrder(event)">
                        <div class="mb-3"><input type="text" class="form-control-dark w-100" placeholder="FULL NAME" required></div>
                        <div class="mb-3"><input type="email" class="form-control-dark w-100" id="customer-email" placeholder="EMAIL ADDRESS" required></div>
                        <div class="mb-3"><input type="tel" class="form-control-dark w-100" placeholder="PHONE NUMBER" required></div>
                        
                        <div class="mb-3">
                            <label class="text-muted small mb-2">PAYMENT METHOD</label>
                            <select class="form-control-dark w-100 mb-3" id="payment-method" onchange="updatePaymentDetails()">
                                <option value="Cash on Delivery">Cash on Delivery (COD)</option>
                                <option value="Bank Transfer">Bank Transfer</option>
                                <option value="Easypaisa">Easypaisa</option>
                            </select>

                            <div id="payment-info-box" class="info-box-custom">
                                </div>
                        </div>

                        <div class="mb-4"><textarea class="form-control-dark w-100" rows="2" placeholder="SHIPPING ADDRESS" required></textarea></div>
                        <button type="submit" class="btn btn-custom w-100">Place Order</button>
                    </form>

                    <div id="order-success" class="text-center py-4" style="display: none;">
                        <i class="fas fa-check-circle text-gold display-4 mb-3"></i>
                        <h3 class="font-serif">Confirmed</h3>
                        <p class="text-muted small mb-4">Thank you. Your order has been placed.</p>
                        
                        <div class="bg-dark p-3 border border-secondary text-start mb-3">
                            <p class="mb-2 text-gold small text-uppercase">Order Summary:</p>
                            <div id="order-summary-details" class="text-white small mb-3"></div>
                            <hr class="border-secondary">
                            <p class="mb-1 text-muted small">Payment Method: <span class="text-white" id="success-payment"></span></p>
                        </div>

                        <button class="btn btn-custom mt-3" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // --- STATE MANAGEMENT ---
        let cart = [];
        let selectedSizes = { 1: 'M', 2: 'M', 3: 'M' };
        const deliveryCharge = 200;

        // --- PRELOADER ---
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            setTimeout(() => { preloader.style.opacity = '0'; preloader.style.visibility = 'hidden'; }, 1000);
            updatePaymentDetails(); 
        });

        // --- SIZE SELECTION ---
        function selectSize(productId, size) {
            selectedSizes[productId] = size;
            const container = document.getElementById(`product-${productId}`);
            const buttons = container.querySelectorAll('.size-btn');
            buttons.forEach(btn => {
                if (btn.innerText === size) btn.classList.add('active');
                else btn.classList.remove('active');
            });
        }

        // --- CART LOGIC ---
        function addToCart(productId, name, price) {
            const size = selectedSizes[productId];
            cart.push({ name, price, size });
            updateCartUI();
            showToast(name, size);
        }

        function quickBuy(productId, name, price) {
            addToCart(productId, name, price);
            proceedToCheckout();
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartUI();
        }

        function updateCartUI() {
            const badge = document.getElementById('cart-badge');
            const itemsContainer = document.getElementById('cart-items-container');
            const totalEl = document.getElementById('cart-total');

            badge.innerText = cart.length;
            badge.style.opacity = cart.length > 0 ? 1 : 0;

            const total = cart.reduce((acc, item) => acc + item.price, 0);
            totalEl.innerText = total.toLocaleString();

            if (cart.length === 0) {
                itemsContainer.innerHTML = '<p class="text-center text-muted py-5 small text-uppercase letter-spacing-1">Your bag is empty</p>';
            } else {
                itemsContainer.innerHTML = '';
                cart.forEach((item, index) => {
                    itemsContainer.innerHTML += `
                        <div class="d-flex justify-content-between align-items-center border-bottom border-secondary py-3">
                            <div>
                                <h6 class="mb-0 font-serif small text-white">${item.name}</h6>
                                <small class="text-muted" style="font-size: 0.75rem;">Size: <span class="text-gold">${item.size}</span></small><br>
                                <small class="text-gold">₨. ${item.price.toLocaleString()}</small>
                            </div>
                            <button class="btn btn-sm text-secondary hover-gold" onclick="removeFromCart(${index})"><i class="fas fa-times"></i></button>
                        </div>
                    `;
                });
            }
        }

        function showToast(itemName, size) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-details').innerText = `${itemName} - Size ${size}`;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // --- CHECKOUT LOGIC & PAYMENT DETAILS ---
        const cartModal = new bootstrap.Modal(document.getElementById('cartModal'));
        const checkoutModal = new bootstrap.Modal(document.getElementById('checkoutModal'));

        function proceedToCheckout() {
            if (cart.length === 0) { alert("Your bag is empty."); return; }
            
            const subtotal = cart.reduce((acc, item) => acc + item.price, 0);
            const total = subtotal + deliveryCharge;

            document.getElementById('checkout-subtotal').innerText = subtotal.toLocaleString();
            document.getElementById('checkout-amount').innerText = total.toLocaleString();
            
            cartModal.hide();
            checkoutModal.show();
        }

        //  Updates payment info box based on selection
        function updatePaymentDetails() {
            const method = document.getElementById('payment-method').value;
            const box = document.getElementById('payment-info-box');
            let content = '';

            if (method === 'Cash on Delivery') {
                content = `
                    <p class="mb-0 text-muted small"><i class="fas fa-truck text-gold me-2"></i>Pay in cash upon delivery. No extra fees.</p>
                `;
            } else if (method === 'Bank Transfer') {
                content = `
                    <h6 class="text-white small mb-2 font-serif">Bank Details</h6>
                    <p class="text-muted small mb-1">Bank: <strong>Meezan Bank</strong></p>
                    <p class="text-muted small mb-1">Title: <strong>Signer Store</strong></p>
                    <p class="text-gold small mb-2 letter-spacing-1">0101 0101234567 01</p>
                    <div class="whatsapp-note">
                        <i class="fab fa-whatsapp text-success" style="font-size:1.2rem;"></i> 
                        <span>Please send payment screenshot on WhatsApp after transfer.</span>
                    </div>
                `;
            } else if (method === 'Easypaisa') {
                content = `
                    <h6 class="text-white small mb-2 font-serif">Easypaisa Details</h6>
                    <p class="text-muted small mb-1">Title: <strong>Signer Store</strong></p>
                    <p class="text-gold small mb-2 letter-spacing-1">0300 1234567</p>
                    <div class="whatsapp-note">
                        <i class="fab fa-whatsapp text-success" style="font-size:1.2rem;"></i> 
                        <span>Please send payment screenshot on WhatsApp after transfer.</span>
                    </div>
                `;
            }
            box.innerHTML = content;
        }

        function submitOrder(e) {
            e.preventDefault();
            
            const paymentMethod = document.getElementById('payment-method').value;
            
            let summaryHTML = '';
            cart.forEach(item => {
                summaryHTML += `
                    <div class="d-flex justify-content-between">
                        <span>${item.name} <span class="text-muted">(${item.size})</span></span>
                    </div>`;
            });

            document.getElementById('order-summary-details').innerHTML = summaryHTML;
            document.getElementById('success-payment').innerText = paymentMethod;

            document.getElementById('checkout-form').style.display = 'none';
            document.getElementById('order-success').style.display = 'block';
            
            cart = [];
            updateCartUI();
            
            setTimeout(() => { 
                document.getElementById('checkout-form').reset(); 
                updatePaymentDetails(); 
            }, 1000);
        }

        document.getElementById('checkoutModal').addEventListener('hidden.bs.modal', function () {
            document.getElementById('checkout-form').style.display = 'block';
            document.getElementById('order-success').style.display = 'none';
        });
    </script>
</body>

</html>